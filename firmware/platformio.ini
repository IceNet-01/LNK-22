; MeshNet Firmware - PlatformIO Configuration
; Supports multiple WisBlock and LoRa hardware platforms

[platformio]
default_envs = rak4631

; Common settings for all environments
[env]
framework = arduino
monitor_speed = 115200
upload_speed = 115200
lib_deps =
    SPI
    Wire
    rweather/Crypto@^0.4.0
    bblanchon/ArduinoJson@^6.21.3
build_flags =
    -DMESHNET_VERSION="1.0.0"
    -Wall
    -Wextra
    -DUSE_CRYPTO_LIB

; RAK4631 - nRF52840 + SX1262 (Primary target)
[env:rak4631]
platform = nordicnrf52
board = wiscore_rak4631
lib_deps =
    ${env.lib_deps}
    SX126x-Arduino
    Adafruit TinyUSB Library
    sparkfun/SparkFun u-blox GNSS Arduino Library@^2.2.25
build_flags =
    ${env.build_flags}
    -DRAK4631
    -DNRF52840
    -DHAS_SX1262
    -DHAS_GPS
    -DBOARD_NAME="RAK4631"

; RAK11200 - ESP32 + SX1262
[env:rak11200]
platform = espressif32
board = esp32dev
lib_deps =
    ${env.lib_deps}
    SX126x-Arduino
    sparkfun/SparkFun u-blox GNSS Arduino Library@^2.2.25
build_flags =
    ${env.build_flags}
    -DRAK11200
    -DESP32
    -DHAS_SX1262
    -DHAS_GPS
    -DBOARD_NAME="RAK11200"

; RAK3172 - STM32WL (Built-in LoRa)
[env:rak3172]
platform = ststm32
board = rak3172
lib_deps =
    ${env.lib_deps}
build_flags =
    ${env.build_flags}
    -DRAK3172
    -DSTM32WL
    -DHAS_STM32WL_LORA
    -DBOARD_NAME="RAK3172"

; Heltec LoRa32 V3 - ESP32-S3 + SX1262
[env:heltec_lora32_v3]
platform = espressif32
board = heltec_wifi_lora_32_V3
lib_deps =
    ${env.lib_deps}
    SX126x-Arduino
    sparkfun/SparkFun u-blox GNSS Arduino Library@^2.2.25
build_flags =
    ${env.build_flags}
    -DHELTEC_V3
    -DESP32S3
    -DHAS_SX1262
    -DHAS_DISPLAY
    -DHAS_GPS
    -DBOARD_NAME="Heltec_V3"
